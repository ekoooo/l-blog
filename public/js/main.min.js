!function(e){e.fn.message=function(t){var a=e('<span class="message">'+t+"</span>");e("body").append(a),a.animate({opacity:1,top:"40%"},{duration:300,done:function(){setTimeout(function(){a.animate({opacity:0,top:"0"},{duration:500,easing:"swing",done:function(){a.remove()}})},2e3)}})}}(jQuery),$(function(){$(".markdown-toc a").on("click",function(e){e.preventDefault();var t=decodeURI(this.href.split("#")[1]);$("html, body").animate({scrollTop:$('.reference-link[name="'+t+'"]').offset().top-70+"px"},{duration:500,easing:"swing"})}),function(){var e=$(".post-box").attr("data-post-id");$(".post-vote .post-vote-item").on("click",function(){if($(".post-vote-item i.active").length)$().message("您已投过票了！");else{var t=this,a=$(this).hasClass("unlike");$.ajax({type:"POST",url:(a?"/post/unlike/":"/post/like/")+e,success:function(e){if(200===e.code){var n=$(t).find("i"),o=a?$(".unlike-num"):$(".like-num");a?n.removeClass("icon-emoji").addClass("pink active icon-emoji_fill"):n.removeClass("icon-praise").addClass("pink active icon-praise_fill"),o.text(Number(o.eq(0).text())+1),$().message("投票成功！")}else $().message(e.message)},dataType:"json"})}})}(),$('.markdown-body a:not([class^="toc-level"])').attr("target","_blank"),$(".sidebar-op").on("click",function(){var e=$(".sidebar");e.attr("data-init")||$.ajax({method:"GET",url:"/sidebar",dataType:"json",success:function(t){if(200===t.code){var a=t.info;$(".author-ch-name").text(a.ch_name),$(".author-en-name").text(a.en_name),$(".collection-post-num").text(a.post_num),$(".collection-category-num").text(a.post_category_num),$(".collection-tag-num").text(a.post_tag_num);for(var n=$(".author-links"),o=0;o<a.links.length;o++)n.append('<a target="_blank" href="'+a.links[o].href+'">'+a.links[o].label+"</a>");var i=$(".friends-links");for(o=0;o<a.friends_links.length;o++)i.append('<a target="_blank" href="'+a.friends_links[o].href+'">'+a.friends_links[o].label+"</a>");e.attr("data-init","1")}else $.message(t.message)}}),$("body").toggleClass("sidebar-open")}),$(".sidebar .author-avatar img").on("mouseover mouseleave",function(e){$(this).attr("src","mouseover"===e.type?"/img/logo.gif":"/img/logo_1.png")})});
//# sourceMappingURL=main.min.js.map
